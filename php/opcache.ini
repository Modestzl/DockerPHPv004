; Агрессивные настройки OPcache для максимальной производительности

[opcache]
; Включение OPcache
opcache.enable=1
opcache.enable_cli=0

; Память для кэша (зависит от размера кода)
opcache.memory_consumption=256

; Максимальное количество файлов в кэше
opcache.max_accelerated_files=10000

; Проверять изменения файлов каждые 60 секунд
opcache.revalidate_freq=60

; Быстрая перезагрузка для обновления кода
opcache.fast_shutdown=1

; Сохранять комментарии (нужно для некоторых фреймворков)
opcache.save_comments=1

; Использовать временные файлы
opcache.use_cwd=1

; Проверять контрольные суммы файлов
opcache.validate_timestamps=0  ; 0 в продакшене, 1 в разработке
opcache.validate_permission=1
opcache.validate_root=1

; Предзагрузка для максимальной производительности
opcache.preload=/var/www/html/preload.php
opcache.preload_user=www

; Оптимизации
opcache.optimization_level=0x7FFFBFFF
opcache.interned_strings_buffer=16
opcache.max_wasted_percentage=5